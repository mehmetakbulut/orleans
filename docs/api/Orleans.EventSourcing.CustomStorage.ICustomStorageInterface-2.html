<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface ICustomStorageInterface&lt;TState, TDelta&gt;
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface ICustomStorageInterface&lt;TState, TDelta&gt;
   ">
    <meta name="generator" content="docfx 2.33.1.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Orleans.EventSourcing.CustomStorage.ICustomStorageInterface`2">
  
  
  <h1 id="Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2" data-uid="Orleans.EventSourcing.CustomStorage.ICustomStorageInterface`2" class="text-break">Interface ICustomStorageInterface&lt;TState, TDelta&gt;
  </h1>
  <div class="markdown level0 summary"><p>The storage interface exposed by grains that want to use the CustomStorage log-consistency provider
<typeparam name="TState">The type for the state of the grain.</typeparam>
<typeparam name="TDelta">The type for delta objects that represent updates to the state.</typeparam></p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Orleans.EventSourcing.CustomStorage.html">Orleans.EventSourcing.CustomStorage</a></h6>
  <h6><strong>Assembly</strong>: Orleans.EventSourcing.dll</h6>
  <h5 id="Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface ICustomStorageInterface&lt;TState, TDelta&gt;</code></pre>
  </div>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TState</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="parametername">TDelta</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_ApplyUpdatesToStorage_IReadOnlyList__1__System_Int32_.md&amp;value=---%0Auid%3A%20Orleans.EventSourcing.CustomStorage.ICustomStorageInterface%602.ApplyUpdatesToStorage(IReadOnlyList%7B%601%7D%2CSystem.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.EventSourcing/CustomStorage/ICustomStorageInterface.cs/#L28">View Source</a>
  </span>
  <a id="Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_ApplyUpdatesToStorage_" data-uid="Orleans.EventSourcing.CustomStorage.ICustomStorageInterface`2.ApplyUpdatesToStorage*"></a>
  <h4 id="Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_ApplyUpdatesToStorage_IReadOnlyList__1__System_Int32_" data-uid="Orleans.EventSourcing.CustomStorage.ICustomStorageInterface`2.ApplyUpdatesToStorage(IReadOnlyList{`1},System.Int32)">ApplyUpdatesToStorage(IReadOnlyList&lt;TDelta&gt;, Int32)</h4>
  <div class="markdown level1 summary"><p>Applies the given array of deltas to storage, and returns true, if the version in storage matches the expected version. 
Otherwise, does nothing and returns false. If successful, the version of storage must be increased by the number of deltas.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task&lt;bool&gt; ApplyUpdatesToStorage(IReadOnlyList&lt;TDelta&gt; updates, int expectedversion)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">IReadOnlyList</span>&lt;TDelta&gt;</td>
        <td><span class="parametername">updates</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">expectedversion</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">System.Boolean</span>&gt;</td>
        <td><p>true if the deltas were applied, false otherwise</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_ReadStateFromStorage.md&amp;value=---%0Auid%3A%20Orleans.EventSourcing.CustomStorage.ICustomStorageInterface%602.ReadStateFromStorage%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.EventSourcing/CustomStorage/ICustomStorageInterface.cs/#L21">View Source</a>
  </span>
  <a id="Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_ReadStateFromStorage_" data-uid="Orleans.EventSourcing.CustomStorage.ICustomStorageInterface`2.ReadStateFromStorage*"></a>
  <h4 id="Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2_ReadStateFromStorage" data-uid="Orleans.EventSourcing.CustomStorage.ICustomStorageInterface`2.ReadStateFromStorage">ReadStateFromStorage()</h4>
  <div class="markdown level1 summary"><p>Reads the current state and version from storage
(note that the state object may be mutated by the provider, so it must not be shared).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task&lt;KeyValuePair&lt;int, TState&gt;&gt; ReadStateFromStorage()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">KeyValuePair</span>&lt;<span class="xref">System.Int32</span>, TState&gt;&gt;</td>
        <td><p>the version number and a  state object.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Orleans.Concurrency.ImmutableExt.html#Orleans_Concurrency_ImmutableExt_AsImmutable__1___0_">ImmutableExt.AsImmutable&lt;T&gt;(T)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_EventSourcing_CustomStorage_ICustomStorageInterface_2.md&amp;value=---%0Auid%3A%20Orleans.EventSourcing.CustomStorage.ICustomStorageInterface%602%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.EventSourcing/CustomStorage/ICustomStorageInterface.cs/#L14" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
