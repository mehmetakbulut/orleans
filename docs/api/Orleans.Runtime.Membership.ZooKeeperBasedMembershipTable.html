<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class ZooKeeperBasedMembershipTable
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class ZooKeeperBasedMembershipTable
   ">
    <meta name="generator" content="docfx 2.33.1.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable">
  
  
  <h1 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable" class="text-break">Class ZooKeeperBasedMembershipTable
  </h1>
  <div class="markdown level0 summary"><p>A Membership Table implementation using Apache Zookeeper 3.4.6 <a href="https://zookeeper.apache.org/doc/r3.4.6/">https://zookeeper.apache.org/doc/r3.4.6/</a></p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">ZooKeeperBasedMembershipTable</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Orleans.Runtime.Membership.html">Orleans.Runtime.Membership</a></h6>
  <h6><strong>Assembly</strong>: Orleans.Clustering.ZooKeeper.dll</h6>
  <h5 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class ZooKeeperBasedMembershipTable : IMembershipTable</code></pre>
  </div>
  <h5 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>A brief overview of ZK features used: The data is represented by a tree of nodes (similar to a file system). 
Every node is addressed by a path and can hold data as a byte array and has a version. When a node is created, 
its version is 0. Upon updates, the version is atomically incremented. An update can also be conditional on an 
expected current version. A transaction can hold several operations, which succeed or fail atomically.
when creating a zookeeper client, one can set a base path where all operations are relative to.</p>
<p>In this implementation:
Every Orleans deployment has a node   /UniqueDeploymentId
Every Silo&apos;s state is saved in        /UniqueDeploymentId/IP:Port@Gen
Every Silo&apos;s IAmAlive is saved in     /UniqueDeploymentId/IP:Port@Gen/IAmAlive
IAmAlive is saved in a separate node because its updates are unconditional.</p>
<p>a node&apos;s ZK version is its ETag:
the table version is the version of /UniqueDeploymentId
the silo entry version is the version of /UniqueDeploymentId/IP:Port@Gen</p>
</div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable__ctor_ILogger_Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable__IOptions_Orleans_Configuration_ZooKeeperClusteringSiloOptions__IOptions_ClusterOptions__.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.%23ctor(ILogger%7BOrleans.Runtime.Membership.ZooKeeperBasedMembershipTable%7D%2CIOptions%7BOrleans.Configuration.ZooKeeperClusteringSiloOptions%7D%2CIOptions%7BClusterOptions%7D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L59">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable__ctor_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.#ctor*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable__ctor_ILogger_Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable__IOptions_Orleans_Configuration_ZooKeeperClusteringSiloOptions__IOptions_ClusterOptions__" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.#ctor(ILogger{Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable},IOptions{Orleans.Configuration.ZooKeeperClusteringSiloOptions},IOptions{ClusterOptions})">ZooKeeperBasedMembershipTable(ILogger&lt;ZooKeeperBasedMembershipTable&gt;, IOptions&lt;ZooKeeperClusteringSiloOptions&gt;, IOptions&lt;ClusterOptions&gt;)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ZooKeeperBasedMembershipTable(ILogger&lt;ZooKeeperBasedMembershipTable&gt; logger, IOptions&lt;ZooKeeperClusteringSiloOptions&gt; membershipTableOptions, IOptions&lt;ClusterOptions&gt; clusterOptions)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">ILogger</span>&lt;<a class="xref" href="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.html">ZooKeeperBasedMembershipTable</a>&gt;</td>
        <td><span class="parametername">logger</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">IOptions</span>&lt;<a class="xref" href="Orleans.Configuration.ZooKeeperClusteringSiloOptions.html">ZooKeeperClusteringSiloOptions</a>&gt;</td>
        <td><span class="parametername">membershipTableOptions</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">IOptions</span>&lt;<span class="xref">ClusterOptions</span>&gt;</td>
        <td><span class="parametername">clusterOptions</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_DeleteMembershipTableEntries_System_String_.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.DeleteMembershipTableEntries(System.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L250">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_DeleteMembershipTableEntries_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.DeleteMembershipTableEntries*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_DeleteMembershipTableEntries_System_String_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.DeleteMembershipTableEntries(System.String)">DeleteMembershipTableEntries(String)</h4>
  <div class="markdown level1 summary"><p>Deletes all table entries of the given clusterId</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task DeleteMembershipTableEntries(string clusterId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">clusterId</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_InitializeMembershipTable_System_Boolean_.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.InitializeMembershipTable(System.Boolean)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L75">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_InitializeMembershipTable_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.InitializeMembershipTable*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_InitializeMembershipTable_System_Boolean_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.InitializeMembershipTable(System.Boolean)">InitializeMembershipTable(Boolean)</h4>
  <div class="markdown level1 summary"><p>Initializes the ZooKeeper based membership table.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task InitializeMembershipTable(bool tryInitPath)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">tryInitPath</span></td>
        <td><p>if set to true, we&apos;ll try to create a node named &quot;/ClusterId&quot;</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_InsertRow_MembershipEntry_TableVersion_.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.InsertRow(MembershipEntry%2CTableVersion)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L179">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_InsertRow_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.InsertRow*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_InsertRow_MembershipEntry_TableVersion_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.InsertRow(MembershipEntry,TableVersion)">InsertRow(MembershipEntry, TableVersion)</h4>
  <div class="markdown level1 summary"><p>Atomically tries to insert (add) a new MembershipEntry for one silo and also update the TableVersion.
If operation succeeds, the following changes would be made to the table:
1) New MembershipEntry will be added to the table.
2) The newly added MembershipEntry will also be added with the new unique automatically generated eTag.
3) TableVersion.Version in the table will be updated to the new TableVersion.Version.
4) TableVersion etag in the table will be updated to the new unique automatically generated eTag.
All those changes to the table, insert of a new row and update of the table version and the associated etags, should happen atomically, or fail atomically with no side effects.
The operation should fail in each of the following conditions:
1) A MembershipEntry for a given silo already exist in the table
2) Update of the TableVersion failed since the given TableVersion etag (as specified by the TableVersion.VersionEtag property) did not match the TableVersion etag in the table.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;bool&gt; InsertRow(MembershipEntry entry, TableVersion tableVersion)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MembershipEntry</span></td>
        <td><span class="parametername">entry</span></td>
        <td><p>MembershipEntry to be inserted.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">TableVersion</span></td>
        <td><span class="parametername">tableVersion</span></td>
        <td><p>The new TableVersion for this table, along with its etag.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">System.Boolean</span>&gt;</td>
        <td><p>True if the insert operation succeeded and false otherwise.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_ReadAll.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.ReadAll%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L142">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_ReadAll_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.ReadAll*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_ReadAll" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.ReadAll">ReadAll()</h4>
  <div class="markdown level1 summary"><p>Atomically reads the full content of the Membership Table.
The returned MembershipTableData includes all MembershipEntry entry for all silos in the table and the 
TableVersion for this table. The MembershipEntries and the TableVersion have to be read atomically.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;MembershipTableData&gt; ReadAll()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">MembershipTableData</span>&gt;</td>
        <td><p>The membership information for a given table: MembershipTableData consisting multiple MembershipEntry entries and
TableVersion, all read atomically.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_ReadRow_Orleans_Runtime_SiloAddress_.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.ReadRow(Orleans.Runtime.SiloAddress)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L112">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_ReadRow_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.ReadRow*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_ReadRow_Orleans_Runtime_SiloAddress_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.ReadRow(Orleans.Runtime.SiloAddress)">ReadRow(SiloAddress)</h4>
  <div class="markdown level1 summary"><p>Atomically reads the Membership Table information about a given silo.
The returned MembershipTableData includes one MembershipEntry entry for a given silo and the 
TableVersion for this table. The MembershipEntry and the TableVersion have to be read atomically.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;MembershipTableData&gt; ReadRow(SiloAddress siloAddress)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Orleans.Runtime.SiloAddress.html">SiloAddress</a></td>
        <td><span class="parametername">siloAddress</span></td>
        <td><p>The address of the silo whose membership information needs to be read.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">MembershipTableData</span>&gt;</td>
        <td><p>The membership information for a given silo: MembershipTableData consisting one MembershipEntry entry and
TableVersion, read atomically.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_UpdateIAmAlive_MembershipEntry_.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.UpdateIAmAlive(MembershipEntry)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L239">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_UpdateIAmAlive_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.UpdateIAmAlive*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_UpdateIAmAlive_MembershipEntry_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.UpdateIAmAlive(MembershipEntry)">UpdateIAmAlive(MembershipEntry)</h4>
  <div class="markdown level1 summary"><p>Updates the IAmAlive part (column) of the MembershipEntry for this silo.
This operation should only update the IAmAlive collumn and not change other columns.
This operation is a &quot;dirty write&quot; or &quot;in place update&quot; and is performed without etag validation. 
With regards to eTags update:
This operation may automatically update the eTag associated with the given silo row, but it does not have to. It can also leave the etag not changed (&quot;dirty write&quot;).
With regards to TableVersion:
this operation should not change the TableVersion of the table. It should leave it untouched.
There is no scenario where this operation could fail due to table semantical reasons. It can only fail due to network problems or table unavailability.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task UpdateIAmAlive(MembershipEntry entry)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MembershipEntry</span></td>
        <td><span class="parametername">entry</span></td>
        <td><p>The target MembershipEntry tp update</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td><p>Task representing the successful execution of this operation. </p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_UpdateRow_MembershipEntry_System_String_TableVersion_.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.UpdateRow(MembershipEntry%2CSystem.String%2CTableVersion)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L211">View Source</a>
  </span>
  <a id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_UpdateRow_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.UpdateRow*"></a>
  <h4 id="Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable_UpdateRow_MembershipEntry_System_String_TableVersion_" data-uid="Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable.UpdateRow(MembershipEntry,System.String,TableVersion)">UpdateRow(MembershipEntry, String, TableVersion)</h4>
  <div class="markdown level1 summary"><p>Atomically tries to update the MembershipEntry for one silo and also update the TableVersion.
If operation succeeds, the following changes would be made to the table:
1) The MembershipEntry for this silo will be updated to the new MembershipEntry (the old entry will be fully substitued by the new entry) 
2) The eTag for the updated MembershipEntry will also be eTag with the new unique automatically generated eTag.
3) TableVersion.Version in the table will be updated to the new TableVersion.Version.
4) TableVersion etag in the table will be updated to the new unique automatically generated eTag.
All those changes to the table, update of a new row and update of the table version and the associated etags, should happen atomically, or fail atomically with no side effects.
The operation should fail in each of the following conditions:
1) A MembershipEntry for a given silo does not exist in the table
2) A MembershipEntry for a given silo exist in the table but its etag in the table does not match the provided etag.
3) Update of the TableVersion failed since the given TableVersion etag (as specified by the TableVersion.VersionEtag property) did not match the TableVersion etag in the table.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;bool&gt; UpdateRow(MembershipEntry entry, string etag, TableVersion tableVersion)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">MembershipEntry</span></td>
        <td><span class="parametername">entry</span></td>
        <td><p>MembershipEntry to be updated.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">etag</span></td>
        <td><p>The etag  for the given MembershipEntry.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">TableVersion</span></td>
        <td><span class="parametername">tableVersion</span></td>
        <td><p>The new TableVersion for this table, along with its etag.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">System.Boolean</span>&gt;</td>
        <td><p>True if the update operation succeeded and false otherwise.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Orleans.Concurrency.ImmutableExt.html#Orleans_Concurrency_ImmutableExt_AsImmutable__1___0_">ImmutableExt.AsImmutable&lt;T&gt;(T)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/mehmetakbulut/orleans/new/api-reference/apiSpec/new?filename=Orleans_Runtime_Membership_ZooKeeperBasedMembershipTable.md&amp;value=---%0Auid%3A%20Orleans.Runtime.Membership.ZooKeeperBasedMembershipTable%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/mehmetakbulut/orleans/blob/api-reference/src/Orleans.Clustering.ZooKeeper/ZooKeeperBasedMembershipTable.cs/#L38" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
